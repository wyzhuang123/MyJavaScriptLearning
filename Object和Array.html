<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>  
</body>
<script>
  // var colors=['red','blue','purple'];
  // //valueOf返回的还是一个[]
  // console.log(colors.valueOf());
  // //toStringf返回字符串
  // console.log(colors.toString());
  // console.log(colors);

  var person1={
    toLocaleString:function(){
      return 'lili'
    },
    toString:function(){
      return 'greg'
    }
  }
  var person2={
    toLocaleString:function(){
      return 'mary'
    },
    toString:function(){
      return 'libai'
    }
  }
  //Array
  var person =[person1,person2];
  console.log(person.toString());
  console.log(person.toLocaleString());
  console.log('-------------------');

  



  /*
  join()
   */ 
  //输出结果为rap*light*rock,join方法通过传入的符号分隔Array里的内容
  //当有undefined和null时，这些方法会把这两个类型值转化为空字符''
  var music=['rap','light','rock'];
  console.log(music.join('*'));
  console.log('-------------------');


  /*
  栈：
  Array的pop()和push()
  后进先出
  */
  console.log(music);
  var rock= music.pop();
  console.log(rock); 
  console.log(music.toString());//rap light
  music.push('blue-music');
  console.log(music.toString());  //rap light blue-music
  console.log('-------------------');


  /*
  队列：
  Array的shift()、unshift()和push()
  队列就是先进先出
  */
  var sports=['篮球','足球','排球','举重'];
  var abc=sports.shift();
  //shift弹出的第一个
  console.log(abc);
  sports.unshift('跳水');
  //把跳水在开头插入
  console.log(sports.toString());//跳水,足球,排球,举重
  sports.push('羽毛球');
  //队列最后添加羽毛球
  console.log(sports.toString());//跳水,足球,排球,举重,羽毛球
  console.log(sports); //5
  console.log('-------------------');



  /*
  Array的reverse()和sort()

  */
  var e=[1,3,2];
  //反转数组内的内容
  e.reverse()
  console.log(e); //2,3,1
  //重排序
  e.sort()
  console.log(e);
  console.log(e.toString());
  function compare(value1,value2){
      if(value1<value2){
        return 1;
      }
      else if(value1>value2){
        return -1;
      }else{
        return 0;
      }
  }
  e.sort(compare)
  console.log(e.toString());
  console.log('-------------------');



  /*
  concat():基础原来的数组加入新元素
  */
  var skills=['swim','writing','speaking'];
  var hobbies=skills.concat("ping","singing");
  console.log(hobbies);
  var all=hobbies.concat("blue",["yellow","green"]);
  console.log(all); //["swim", "writing", "speaking", "ping", "singing", "blue", "yellow", "green"]

  /*
  slice():可以接受一个或两个参数，一个参数则时从初始位置到末尾，而两个参数则时在两个参数之间的元素
  但不包括结束位置的项
  */

  var lot=all.slice(0,4);//["swim", "writing", "speaking", "ping"]
  console.log(lot);
  // slice()不影响原始数组
  console.log(all); //["swim", "writing", "speaking", "ping", "singing", "blue", "yellow", "green"]
  //负数的话就按顺序反推
  var bb=all.slice(-2,-1);
  console.log(bb); //["yellow"]


  /*
  splice:
  删除：splice(start,end)
  插入：splice(start,0,attitbute)
  替换：splice(start,替换项数量,attitbute)
  splice会影响原来的数组
  */

  //删除
  
  var abcnumber=['a','b','c',1,3,2];
  var deletenumber=abcnumber.splice(3,5);
  console.log(deletenumber);//132
  console.log(abcnumber);//abc
  
  //插入
  
  abcnumber.splice(2,0,"d");//abdc
  deletenumber.splice(2,0,4); //1342
    console.log(abcnumber);//abdc
    console.log(deletenumber);//1342
  
  //替换
  
    deletenumber.splice(1,2,5,6,7);
    console.log(deletenumber); //[1, 5, 6, 7, 2]
    console.log('-------------------');


  /*
  迭代方法
  */
  var numbers=[1,2,3,4,5,6,7,8,9];

  //1.every(),数组中的项必须都满足条件才返回true
  var everyResult=numbers.every(function(item,index,array){
      return (item>1);
  })
  console.log(everyResult); //false

  //2.some(),数组中的项的一个满足条件就true
  var someResult=numbers.some(function(item,index,array){
      return (item>1);
  })
  console.log(someResult); //true

  //3.filter(),筛选出返回true的项,返回一个数组
  var filterResult=numbers.filter((item,index,array)=>{
      return (item>2);
  })
  console.log(filterResult); //(7) [3, 4, 5, 6, 7, 8, 9]

  //4.map(),map也返回一个数组，是对原数组的对应项运行传入函数的结果
  var mapResult=numbers.map((item,index,array)=>{
      // 数组项/2
      return item/2;
  })
  console.log(mapResult);  //(9) [0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5]
 
  //5.forEach(),遍历筛选
  var newnumbers=[];
  numbers.forEach((item,index,array)=>{
    if(item>4){
      //将数值大于4的项push进newnumbers
      newnumbers.push(item);
    }
      
  })
  console.log(newnumbers);
  console.log('-------------------');


  /*
  缩小方法
  */

  //1.reduce()，遍历数组，然后返回值作为prev,和cur做操作，最后就返回一个数组
  var values=[2,3,4,5];
  var sum=values.reduce((prev,cur,index,array)=>{
    console.log(index);
    return prev+cur;
  })
  console.log(sum);

  //2.reduceRight()作用类似，只不过方向相反而已,从数组最后开始遍历

  var rightsum=values.reduce((prev,cur,index,array)=>{
    console.log(index);
    return prev+cur;
  })
  console.log(rightsum);

</script>
</html>